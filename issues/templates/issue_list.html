
{% extends 'base.html' %}

{% block content %}

<div class="master" style>
    <div class = "wrapper issues lightbox-generic-form">
         
       <tg-project-menu>
        <div class="sticky-project-menu"></div>
       </tg-project-menu>
       
        <div class="main issue-main">
            <div class="issue-top">
                <header class="issue-header">
                    <h1>
                        <span>Issues</span>
                    </h1>
                    <div class="taskboard-actions">
                        <div class="issue-table-options-start" >
                            <button class="btn-filter" onclick="myFunction()">
                                <img src="   https://cdn-icons-png.flaticon.com/512/10035/10035140.png " width="15" height="15" alt="" title="" class="img-small" >
                                
                                <span class="text" style="margin: 5px;">Filters</span>
                            </button>
                        </div>
                        <div class="new-issue">
                            <button class="btn-small" >
                                <a href="/issues/create/" style="color:black"> New Issue</a>
                            </button>
                        </div>
                    </div>
                </header>
            </div>
            <div class="issue-container">
                
                <sidebar class="filters-bar" id="filtres"  >
                    <div>
                        <div class="filters-step-cat">
                            <div class="filters-advanced">
                                <div class="filters-advanced-form">
                                    <div class="custom-radio"></div>
                                    <div class="custom-radio"></div>
                                </div>
                            </div>
                            <div class="filters-cat">
                                <ul>
                                    <li>
                                        <button class="filters-cat-single">
                                            <span>Tipus</span>
                                            <div class="ng-animate-disabled">
                                                <svg class="icon icon-arrow-right" style="fill: cred">
                                                    <img src="   https://cdn-icons-png.flaticon.com/512/271/271228.png " width="10" height="10" alt="" title="" class="img-small">
                                            
                                                </svg>
                                            </div>
                                           
                                        </button>
                                    </li>
                                    <li>
                                        <button class="filters-cat-single">
                                            <span>Gravetat</span>
                                            <div class="ng-animate-disabled">
                                                <svg class="icon icon-arrow-right" style="fill: cred">
                                                    <img src="   https://cdn-icons-png.flaticon.com/512/271/271228.png " width="10" height="10" alt="" title="" class="img-small">
                                            
                                                </svg>
                                            </div>
                                           
                                        </button>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </sidebar>
                <div class="issue-page"style="width: 100%;">
                   <table class="issues-table" style="width: 100%;">
                        
                        {% for issue in issues %}
                            <tr class="row table-main" style="height: 80px;border-bottom:10px;">
                            
                                <td class="level-field" style="width: 10%; text-align: center;
                                vertical-align: middle;">
                                        {% if issue.tipus == "B" %}
                                            <div class="level" style="background: rgb(228, 64, 87)"></div>
                                        {%elif issue.tipus == "P"%}
                                            <p class="level" style="background: rgb(189, 252, 170);"></p>
                                        {%elif issue.tipus == "M"%}
                                            <p class="level" style="background: rgb(255, 153, 0);"></p>
                                        {%endif%}
                                      
                                </td>
                                
                                 <td class="level-field" style="width: 10%;text-align: center;
                                 vertical-align: middle;">
                                    <p class="level" style="background: rgb(228, 64, 87);"></p>
                                 </td>
                                 
                                 <td class="level-field" style="width: 10%t;text-align: center;
                                 vertical-align: middle;">
                                        {% if issue.prioritat == "B" %}
                                            <p class="level" style="background: rgb(189, 252, 170);"></p>
                                        {%elif issue.prioritat == "M"%}
                                            <p class="level" style=" background: rgb(251, 255, 0);"></p>
                                        {%elif issue.prioritat == "A"%}
                                            <p class="level" style="background: rgb(228, 64, 87);"></p>
                                        {%endif%}
                                </td>
                            
                                <td class="subject" style="text-align: center;
                                vertical-align: middle;">
                                    
                                    <a href="/issues/{{issue.id}}" >
                                        <span classe="issue-text" style="display: inline-flex;">
                                            <span class="issue-ref">#{{issue.id}}</span>
                                            <span class="issue-subject">{{issue.subject}}</span>
                                        </span>
                                        
                                    </a> 
                                </td>
                                
                                <td style="text-align: center;
                                vertical-align: middle;">
                                    <div class="assigned-field" >
                                    {%if issue.estat == 'N' %}
                                        <span>Nova</span> 
                                    {%elif issue.estat == 'D'%}
                                        <span>En curs</span>
                                    {%elif issue.estat == 'T'%}
                                        <span>Llesta per testejar</span>
                                    {%elif issue.estat == 'C'%}
                                        <span style="color:#70b578">Tancada</span>
                                    {%elif issue.estat == 'I'%}
                                        <span>Necessita informaci√≥</span>
                                    {%elif issue.estat == 'R'%}
                                        <span style="color:#FF0000">Rebutjada</span>
                                    {%elif issue.estat == 'P'%}
                                        <span>Proposada</span>
                                    {%endif%} 
                                    </div>
                                </td>
                                
                                <td class="modified-field" style="text-align: center;
                                vertical-align: middle;">
                                    <span>{{issue.dataModificacio}}</span>
                                </td>
                                
                                <td class="assigned-field" style="text-align: center;
                                vertical-align: middle;">   
                                    <span class="issue-assignedto">{{issue.assignacio.user.username}}</span>
                                </td>
                                
                            </tr> 
                        {% endfor %}

                    </table>
                </div>
            </div>
</div>
</div>

    
    <script type="text/javascript">
        function myFunction() {
  var x = document.getElementById("filtres");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}
        </script>
{% endblock %}